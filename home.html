<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鹰隼空间 - 二手交易平台</title>
    <link rel="stylesheet" href="css/home.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- 科幻网格背景 -->
    <div class="cyber-grid"></div>

    <!-- 音乐播放控件 -->
    <div class="music-player" id="musicPlayer">
        <button class="music-toggle" id="musicToggle" title="点击播放/暂停">
            <i class="fas fa-play"></i>
        </button>
        <div class="music-controls">
            <span>点击播放背景音乐</span>
            <input type="range" min="0" max="100" value="50" class="volume-slider" id="volumeSlider">
        </div>
    </div>

    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-eagle"></i>
                <span>鹰隼空间</span>
            </div>

            <!-- 移动端菜单按钮 -->
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>

            <div class="nav-search">
                <input type="text" placeholder="搜索商品..." class="search-input" id="searchInput">
                <button class="search-btn click-ripple">
                    <i class="fas fa-search"></i>
                </button>
            </div>

            <div class="nav-menu" id="navMenu">
                <a href="home.html" class="nav-link active click-ripple">
                    <i class="fas fa-home"></i>
                    <span>首页</span>
                </a>
                <a href="publish.html" class="nav-link click-ripple">
                    <i class="fas fa-plus-circle"></i>
                    <span>发布商品</span>
                </a>
                <a href="chat.html" class="nav-link click-ripple">
                    <i class="fas fa-comments"></i>
                    <span>聊天室</span>
                    <span class="chat-badge" id="chatBadge">0</span>
                </a>
                <div class="user-dropdown">
                    <button class="user-btn click-ripple" id="userBtn">
                        <i class="fas fa-user"></i>
                        <span id="userName">用户</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-menu">
                        <a href="profile.html" class="dropdown-item click-ripple">
                            <i class="fas fa-user-cog"></i>个人中心
                        </a>
                        <a href="my-products.html" class="dropdown-item click-ripple">
                            <i class="fas fa-box"></i>我的商品
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item click-ripple" onclick="platform.logout()">
                            <i class="fas fa-sign-out-alt"></i>退出登录
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <div class="main-container">
        <!-- 英雄区域 -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title cyber-text">发现身边的宝藏</h1>
                <p class="hero-subtitle">闲置物品交易，让资源重新流动</p>
                <div class="hero-actions">
                    <button class="btn-primary click-ripple" onclick="location.href='publish.html'">
                        <i class="fas fa-plus"></i>
                        发布商品
                    </button>
                    <button class="btn-secondary click-ripple" onclick="scrollToProducts()">
                        <i class="fas fa-shopping-bag"></i>
                        浏览商品
                    </button>
                </div>
            </div>
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-number" id="totalProducts">0</div>
                    <div class="stat-label">在线商品</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="onlineUsers">0</div>
                    <div class="stat-label">在线用户</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="totalTransactions">0</div>
                    <div class="stat-label">成功交易</div>
                </div>
            </div>
        </section>

        <!-- 商品筛选 -->
        <section class="filter-section">
            <div class="section-header">
                <h2 class="section-title cyber-text">精选商品</h2>
                <div class="filter-controls">
                    <div class="filter-group">
                        <select id="categoryFilter" class="filter-select">
                            <option value="all">全部分类</option>
                            <option value="electronics">电子产品</option>
                            <option value="clothing">服装鞋帽</option>
                            <option value="home">家居日用</option>
                            <option value="books">图书文具</option>
                            <option value="sports">运动户外</option>
                            <option value="other">其他</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="priceFilter" class="filter-select">
                            <option value="all">全部价格</option>
                            <option value="0-50">50元以下</option>
                            <option value="50-100">50-100元</option>
                            <option value="100-200">100-200元</option>
                            <option value="200-500">200-500元</option>
                            <option value="500+">500元以上</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="sortFilter" class="filter-select">
                            <option value="newest">最新发布</option>
                            <option value="price-low">价格从低到高</option>
                            <option value="price-high">价格从高到低</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>

        <!-- 商品网格 -->
        <section class="products-section">
            <div class="products-grid" id="productsGrid">
                <div class="loading-state">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>加载商品中...</p>
                </div>
            </div>
        </section>

        <!-- 在线用户侧边栏 -->
        <aside class="online-users-sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-users"></i> 在线用户</h3>
                <span class="online-count" id="onlineCount">0</span>
            </div>
            <div class="users-list" id="usersList">
                <div class="empty-users">
                    <i class="fas fa-user-slash"></i>
                    <p>加载中...</p>
                </div>
            </div>
            <div class="quick-chat">
                <button class="quick-chat-btn click-ripple" onclick="location.href='chat.html'">
                    <i class="fas fa-comment-dots"></i>
                    进入聊天室
                </button>
            </div>
        </aside>
    </div>

    <!-- 底部浮动聊天按钮 -->
    <div class="floating-chat-btn click-ripple" onclick="location.href='chat.html'">
        <i class="fas fa-comment"></i>
        <span class="message-indicator"></span>
    </div>

    <!-- 引入数据管理器 -->
    <script src="js/github-data-manager.js" onerror="(function(){var s=document.createElement('script');s.src='js/github-data-manager-secure.js';document.head.appendChild(s);})();"></script>
    <!-- 引入首页JS -->
    <script src="js/home.js"></script>
</body>

</html>
